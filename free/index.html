<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>资源分类 | 云服务资源导航</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind配置 - 保持一致的色彩系统 -->
  <script>
    tailwind.config = {
      theme: {
          extend: {
              colors: {
                  primary: '#165DFF',      // 主色调：科技蓝
                  secondary: '#4080FF',    // 辅助色：浅蓝色
                  dark: '#1D2129',         // 文字深灰
                  light: '#F2F3F5',        // 背景浅灰
                  muted: '#86909C',        // 辅助文字灰
                  success: '#00B42A',      // 成功色：绿色
                  warning: '#FF7D00',      // 警告色：橙色
                  danger: '#F53F3F',       // 危险色：红色
                  // 服务类型颜色
                  vps: '#0FC6C2',          // VPS：青色
                  cloud: '#722ED1',        // 云服务器：紫色
                  hosting: '#FF7D00',      // 虚拟主机：橙色
                  serverless: '#00B42A',   // Serverless：绿色
                  trial: '#F53F3F',        // 试用：红色
                  free: '#165DFF'          // 永久免费：主色
              },
              fontFamily: {
                  inter: ['Inter', 'system-ui', 'sans-serif'],
              },
              boxShadow: {
                  'card': '0 2px 8px rgba(0, 0, 0, 0.08)',
                  'card-hover': '0 8px 24px rgba(22, 93, 255, 0.12)'
              }
          }
      }
    };
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-hover {
        @apply transition-all duration-300 hover:shadow-card-hover hover:-translate-y-1;
      }
      .text-balance {
        text-wrap: balance;
      }
      .category-icon {
        @apply w-10 h-10 rounded-lg flex items-center justify-center text-xl mb-3;
      }
    }
  </style>
</head>

<body class="font-inter bg-gray-50 text-dark min-h-screen flex flex-col">
  <!-- 顶部导航栏 -->
  <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <!-- Logo区域 -->
      <a href="../index.html" class="flex items-center space-x-2">
        <i class="fa fa-cloud-server text-primary text-2xl"></i>
        <h1 class="text-xl md:text-2xl font-bold text-primary">云服务资源导航</h1>
      </a>
      
      <!-- 桌面端导航 -->
      <div class="hidden md:flex items-center space-x-6">
        <a href="../index.html" class="text-dark hover:text-primary transition-colors">首页</a>
        <a href="weather.html" class="text-dark hover:text-primary transition-colors">天气接口</a>
        <a href="ai.html" class="text-dark hover:text-primary transition-colors">AI接口</a>
        <a href="icons.html" class="text-dark hover:text-primary transition-colors">图标资源</a>
        <a href="index.html" class="text-dark hover:text-primary transition-colors">免费资源总览</a>
        <a href="categories.html" class="text-primary font-medium">资源分类</a>
        <a href="https://github.com/guomengtao/rinuo.com/issues" target="_blank" class="text-muted hover:text-primary transition-colors flex items-center">
          <i class="fa fa-github mr-1"></i> 贡献资源
        </a>
      </div>
      
      <!-- 移动端菜单按钮 -->
      <button class="md:hidden text-dark focus:outline-none" id="menuBtn">
        <i class="fa fa-bars text-xl"></i>
      </button>
    </div>
    
    <!-- 移动端导航菜单（默认隐藏） -->
    <div class="md:hidden hidden bg-white border-t border-gray-100" id="mobileMenu">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-3">
        <a href="../index.html" class="py-2 text-dark hover:text-primary transition-colors">首页</a>
        <a href="weather.html" class="py-2 text-dark hover:text-primary transition-colors">天气接口</a>
        <a href="ai.html" class="py-2 text-dark hover:text-primary transition-colors">AI接口</a>
        <a href="icons.html" class="py-2 text-dark hover:text-primary transition-colors">图标资源</a>
        <a href="index.html" class="py-2 text-dark hover:text-primary transition-colors">免费资源总览</a>
        <a href="categories.html" class="py-2 text-primary font-medium">资源分类</a>
        <a href="https://github.com/guomengtao/rinuo.com/issues" target="_blank" class="py-2 text-muted hover:text-primary transition-colors flex items-center">
          <i class="fa fa-github mr-1"></i> 贡献资源
        </a>
      </div>
    </div>
  </header>

  <!-- 页面标题区 -->
  <section class="bg-gradient-to-r from-primary to-blue-600 text-white py-10 md:py-16">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
        <div>
          <div class="flex items-center space-x-3 mb-4">
            <i class="fa fa-th-large text-3xl"></i>
            <h2 class="text-[clamp(1.5rem,4vw,2.5rem)] font-bold">资源分类</h2>
          </div>
          <p class="text-white/90 max-w-2xl text-balance">
            浏览所有资源分类，快速找到您需要的开发工具和服务。每个分类都包含经过筛选的优质免费资源，帮助您降低项目成本。
          </p>
          
          <div class="flex flex-wrap gap-3 mt-6">
            <a href="#categories" class="inline-flex items-center bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors">
              <i class="fa fa-list-alt mr-2"></i> 浏览所有分类
            </a>
            <a href="index.html" class="inline-flex items-center bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors">
              <i class="fa fa-th mr-2"></i> 查看全部资源
            </a>
          </div>
        </div>
        
        <!-- 数据概览卡片 -->
        <div class="bg-white/15 backdrop-blur-sm rounded-lg p-5 flex flex-col space-y-4 max-w-xs">
          <div class="flex justify-between items-center">
            <span class="text-white/80">分类总数</span>
            <span class="font-bold" id="totalCategories">0</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-white/80">资源总数</span>
            <span class="font-bold" id="totalResources">0</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-white/80">永久免费</span>
            <span class="font-bold" id="permanentFree">0</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-white/80">开源项目</span>
            <span class="font-bold" id="openSourceCount">0</span>
          </div>
          <div class="border-t border-white/20 pt-4 mt-2">
            <span class="text-white/90 text-sm">最后更新：<span id="lastUpdated">--</span></span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 面包屑导航 -->
  <div class="container mx-auto px-4 py-4 bg-white shadow-sm">
    <nav class="flex text-sm" aria-label="Breadcrumb">
      <ol class="inline-flex items-center space-x-1 md:space-x-3">
        <li class="inline-flex items-center">
          <a href="../index.html" class="inline-flex items-center text-muted hover:text-primary transition-colors">
            <i class="fa fa-home mr-2"></i>首页
          </a>
        </li>
        <li>
          <div class="flex items-center">
            <i class="fa fa-chevron-right text-muted mx-2 text-xs"></i>
            <a href="categories.html" class="text-primary font-medium">资源分类</a>
          </div>
        </li>
      </ol>
    </nav>
  </div>

  <!-- 主内容区 -->
  <main class="container mx-auto px-4 py-8 flex-grow">
    <!-- 分类搜索和筛选 -->
    <div class="bg-white rounded-xl border border-gray-100 p-5 md:p-6 mb-8 shadow-sm">
      <div class="flex flex-col md:flex-row md:items-center gap-4">
        <div class="flex-1">
          <label for="categorySearch" class="block text-sm font-medium text-muted mb-1">搜索分类</label>
          <div class="relative">
            <input type="text" id="categorySearch" placeholder="输入分类名称搜索..." 
                  class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all">
            <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-muted"></i>
          </div>
        </div>
        <div class="w-full md:w-auto">
          <label for="categorySort" class="block text-sm font-medium text-muted mb-1">排序方式</label>
          <select id="categorySort" class="w-full md:w-auto border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all">
            <option value="name">按名称</option>
            <option value="count-desc">资源数量（从多到少）</option>
            <option value="count-asc">资源数量（从少到多）</option>
            <option value="updated">按更新时间</option>
          </select>
        </div>
      </div>
    </div>

    <!-- 分类展示区 -->
    <div id="categories" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
      <!-- 分类卡片将通过JavaScript动态生成 -->
      <div class="col-span-full flex justify-center py-16">
        <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"></div>
      </div>
    </div>

    <!-- 分类指南卡片 -->
    <div class="bg-white rounded-xl border border-gray-100 p-5 md:p-6 mt-8 shadow-sm">
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex-shrink-0 bg-primary/10 p-4 rounded-lg">
          <i class="fa fa-lightbulb-o text-primary text-3xl"></i>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-3">如何有效使用资源分类</h3>
          <p class="text-muted mb-4">
            每个分类都汇集了相关领域的优质免费资源，点击分类卡片即可查看该类别下的所有资源。您可以根据项目需求，通过搜索快速定位所需分类，或按资源数量排序找到最丰富的资源集合。
          </p>
          <ul class="space-y-2 text-sm text-muted">
            <li class="flex items-start">
              <i class="fa fa-check-circle text-success mt-1 mr-2"></i>
              <span>每个分类都标注了资源数量，帮助您了解该领域的资源丰富程度</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-success mt-1 mr-2"></i>
              <span>带有"热门"标识的分类包含更多开发者常用的优质资源</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-success mt-1 mr-2"></i>
              <span>定期更新的分类会显示最新更新时间，确保您获取最新资源信息</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="bg-dark text-white py-10 mt-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-4">
            <i class="fa fa-cloud-server text-primary text-2xl"></i>
            <h2 class="text-xl font-bold text-white">云服务资源导航</h2>
          </div>
          <p class="text-gray-400 text-sm">
            精选全球优质免费开发资源，涵盖各类API、工具和服务，详细对比各平台的免费额度、使用限制和适用场景，帮助开发者找到适合的免费资源解决方案。
          </p>
        </div>
        
        <div>
          <h3 class="text-lg font-medium mb-4">快速链接</h3>
          <ul class="space-y-2 text-gray-400">
            <li><a href="categories.html" class="hover:text-primary transition-colors">资源分类</a></li>
            <li><a href="index.html" class="hover:text-primary transition-colors">免费资源总览</a></li>
            <li><a href="ai.html" class="hover:text-primary transition-colors">AI接口资源</a></li>
            <li><a href="vps.html" class="hover:text-primary transition-colors">免费云服务</a></li>
            <li><a href="https://github.com/guomengtao/rinuo.com" target="_blank" class="hover:text-primary transition-colors">提交资源</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-medium mb-4">热门分类</h3>
          <ul class="space-y-2 text-gray-400">
            <li><a href="domain.html" class="hover:text-primary transition-colors">域名服务</a></li>
            <li><a href="cdn.html" class="hover:text-primary transition-colors">CDN服务</a></li>
            <li><a href="ai.html" class="hover:text-primary transition-colors">人工智能</a></li>
            <li><a href="icons.html" class="hover:text-primary transition-colors">图标资源</a></li>
            <li><a href="database.html" class="hover:text-primary transition-colors">数据库</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-medium mb-4">关注我们</h3>
          <div class="flex space-x-4">
            <a href="https://github.com/guomengtao/rinuo.com" target="_blank" class="text-gray-400 hover:text-primary transition-colors text-xl">
              <i class="fa fa-github"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-primary transition-colors text-xl">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-primary transition-colors text-xl">
              <i class="fa fa-linkedin"></i>
            </a>
          </div>
          <p class="text-gray-400 text-sm mt-4">
            订阅更新，获取最新免费资源信息
          </p>
          <div class="mt-2 flex" id="subscriptionForm">
            <input type="email" placeholder="您的邮箱地址" class="px-3 py-2 rounded-l-lg text-dark flex-grow text-sm focus:outline-none" id="emailInput">
            <button class="bg-primary hover:bg-primary/90 text-white px-3 py-2 rounded-r-lg transition-colors" id="subscribeBtn">
              订阅
            </button>
          </div>
          <div id="subscriptionMessage" class="mt-2 text-xs hidden"></div>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-8 pt-6 text-center text-gray-500 text-sm">
        <p>© 2025 云服务资源导航. 保留所有权利.</p>
      </div>
    </div>
  </footer>

  <!-- 回到顶部按钮 -->
  <button id="backToTop" class="fixed bottom-6 right-6 bg-primary hover:bg-primary/90 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 opacity-0 invisible">
    <i class="fa fa-chevron-up"></i>
  </button>

  <script>
    // 元素引用
    const categoriesContainer = document.getElementById('categories');
    const categorySearchInput = document.getElementById('categorySearch');
    const categorySortSelect = document.getElementById('categorySort');
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const totalCategoriesEl = document.getElementById('totalCategories');
    const totalResourcesEl = document.getElementById('totalResources');
    const permanentFreeEl = document.getElementById('permanentFree');
    const openSourceCountEl = document.getElementById('openSourceCount');
    const lastUpdatedEl = document.getElementById('lastUpdated');
    const backToTopBtn = document.getElementById('backToTop');
    const subscribeBtn = document.getElementById('subscribeBtn');
    const emailInput = document.getElementById('emailInput');
    const subscriptionMessage = document.getElementById('subscriptionMessage');

    // 分类数据
    const categoriesData = [
      {"category": "域名服务", "categorySlug": "domain", "slug": "domain", "updatedAt": "2025-08-31", "serviceCount": 32, "isPopular": true, "icon": "fa-globe", "color": "bg-blue-100 text-blue-600"},
      {"category": "OCR识别", "categorySlug": "ocr", "slug": "ocr", "updatedAt": "2025-08-31", "serviceCount": 26, "isPopular": false, "icon": "fa-file-text-o", "color": "bg-purple-100 text-purple-600"},
      {"category": "翻译服务", "categorySlug": "translate", "slug": "translate", "updatedAt": "2025-08-31", "serviceCount": 22, "isPopular": true, "icon": "fa-language", "color": "bg-green-100 text-green-600"},
      {"category": "法律工具", "categorySlug": "law", "slug": "law", "updatedAt": "2025-08-31", "serviceCount": 26, "isPopular": false, "icon": "fa-gavel", "color": "bg-gray-100 text-gray-600"},
      {"category": "监控服务", "categorySlug": "monitor", "slug": "monitor", "updatedAt": "2025-08-31", "serviceCount": 15, "isPopular": false, "icon": "fa-eye", "color": "bg-yellow-100 text-yellow-600"},
      {"category": "API服务", "categorySlug": "api", "slug": "api", "updatedAt": "2025-08-31", "serviceCount": 24, "isPopular": true, "icon": "fa-exchange", "color": "bg-indigo-100 text-indigo-600"},
      {"category": "CI/CD工具", "categorySlug": "cicd", "slug": "cicd", "updatedAt": "2025-08-31", "serviceCount": 17, "isPopular": false, "icon": "fa-refresh", "color": "bg-red-100 text-red-600"},
      {"category": "图标资源", "categorySlug": "icons", "slug": "icons", "updatedAt": "2025-08-31", "serviceCount": 42, "isPopular": true, "icon": "fa-picture-o", "color": "bg-pink-100 text-pink-600"},
      {"category": "股票数据", "categorySlug": "stock", "slug": "stock", "updatedAt": "2025-08-31", "serviceCount": 35, "isPopular": false, "icon": "fa-line-chart", "color": "bg-green-100 text-green-600"},
      {"category": "OTP验证", "categorySlug": "otp", "slug": "otp", "updatedAt": "2025-08-31", "serviceCount": 21, "isPopular": false, "icon": "fa-key", "color": "bg-orange-100 text-orange-600"},
      {"category": "人工智能", "categorySlug": "ai", "slug": "ai", "updatedAt": "2025-08-31", "serviceCount": 26, "isPopular": true, "icon": "fa-brain", "color": "bg-blue-100 text-blue-600"},
      {"category": "教育资源", "categorySlug": "education", "slug": "education", "updatedAt": "2025-08-31", "serviceCount": 18, "isPopular": false, "icon": "fa-graduation-cap", "color": "bg-purple-100 text-purple-600"},
      {"category": "健康医疗", "categorySlug": "health", "slug": "health", "updatedAt": "2025-08-31", "serviceCount": 16, "isPopular": false, "icon": "fa-heartbeat", "color": "bg-red-100 text-red-600"},
      {"category": "日志分析", "categorySlug": "log", "slug": "log", "updatedAt": "2025-08-31", "serviceCount": 18, "isPopular": false, "icon": "fa-list-alt", "color": "bg-gray-100 text-gray-600"},
      {"category": "AI文本", "categorySlug": "ai-text", "slug": "ai-text", "updatedAt": "2025-08-31", "serviceCount": 24, "isPopular": true, "icon": "fa-file-text", "color": "bg-blue-100 text-blue-600"},
      {"category": "VPS服务", "categorySlug": "vps", "slug": "vps", "updatedAt": "2025-08-31", "serviceCount": 38, "isPopular": true, "icon": "fa-server", "color": "bg-cyan-100 text-cyan-600"},
      {"category": "测试工具", "categorySlug": "test", "slug": "test", "updatedAt": "2025-08-31", "serviceCount": 12, "isPopular": false, "icon": "fa-check-square-o", "color": "bg-green-100 text-green-600"},
      {"category": "体育数据", "categorySlug": "sport", "slug": "sport", "updatedAt": "2025-08-31", "serviceCount": 18, "isPopular": false, "icon": "fa-futbol-o", "color": "bg-orange-100 text-orange-600"},
      {"category": "推送服务", "categorySlug": "push", "slug": "push", "updatedAt": "2025-08-31", "serviceCount": 22, "isPopular": false, "icon": "fa-bell-o", "color": "bg-purple-100 text-purple-600"},
      {"category": "新闻资讯", "categorySlug": "news", "slug": "news", "updatedAt": "2025-08-31", "serviceCount": 25, "isPopular": false, "icon": "fa-newspaper-o", "color": "bg-red-100 text-red-600"},
      {"category": "数据库", "categorySlug": "database", "slug": "database", "updatedAt": "2025-08-31", "serviceCount": 19, "isPopular": true, "icon": "fa-database", "color": "bg-yellow-100 text-yellow-600"},
      {"category": "支付服务", "categorySlug": "payment", "slug": "payment", "updatedAt": "2025-08-31", "serviceCount": 15, "isPopular": false, "icon": "fa-credit-card", "color": "bg-green-100 text-green-600"},
      {"category": "短信服务", "categorySlug": "sms", "slug": "sms", "updatedAt": "2025-08-31", "serviceCount": 28, "isPopular": false, "icon": "fa-mobile", "color": "bg-blue-100 text-blue-600"},
      {"category": "开发工具", "categorySlug": "devtools", "slug": "devtools", "updatedAt": "2025-08-31", "serviceCount": 26, "isPopular": true, "icon": "fa-code", "color": "bg-indigo-100 text-indigo-600"},
      {"category": "视频处理", "categorySlug": "video", "slug": "video", "updatedAt": "2025-08-31", "serviceCount": 22, "isPopular": false, "icon": "fa-film", "color": "bg-red-100 text-red-600"},
      {"category": "邮件服务", "categorySlug": "email", "slug": "email", "updatedAt": "2025-08-31", "serviceCount": 24, "isPopular": false, "icon": "fa-envelope-o", "color": "bg-gray-100 text-gray-600"},
      {"category": "CDN服务", "categorySlug": "cdn", "slug": "cdn", "updatedAt": "2025-08-31", "serviceCount": 31, "isPopular": true, "icon": "fa-cloud-download", "color": "bg-blue-100 text-blue-600"},
      {"category": "Supabase", "categorySlug": "supabase", "slug": "supabase", "updatedAt": "2025-08-31", "serviceCount": 18, "isPopular": false, "icon": "fa-database", "color": "bg-green-100 text-green-600"},
      {"category": "字体资源", "categorySlug": "fonts", "slug": "fonts", "updatedAt": "2025-08-31", "serviceCount": 12, "isPopular": false, "icon": "fa-font", "color": "bg-purple-100 text-purple-600"},
      {"category": "存储服务", "categorySlug": "storage", "slug": "storage", "updatedAt": "2025-08-31", "serviceCount": 20, "isPopular": false, "icon": "fa-hdd-o", "color": "bg-yellow-100 text-yellow-600"},
      {"category": "图片处理", "categorySlug": "image", "slug": "image", "updatedAt": "2025-08-31", "serviceCount": 18, "isPopular": false, "icon": "fa-picture-o", "color": "bg-pink-100 text-pink-600"},
      {"category": "语音服务", "categorySlug": "voice", "slug": "voice", "updatedAt": "2025-08-31", "serviceCount": 16, "isPopular": false, "icon": "fa-microphone", "color": "bg-indigo-100 text-indigo-600"},
      {"category": "地图服务", "categorySlug": "map", "slug": "map", "updatedAt": "2025-08-31", "serviceCount": 22, "isPopular": false, "icon": "fa-map-marker", "color": "bg-red-100 text-red-600"},
      {"category": "AI图像", "categorySlug": "ai-image", "slug": "ai-image", "updatedAt": "2025-08-31", "serviceCount": 15, "isPopular": true, "icon": "fa-paint-brush", "color": "bg-purple-100 text-purple-600"},
      {"category": "Serverless", "categorySlug": "serverless", "slug": "serverless", "updatedAt": "2025-08-31", "serviceCount": 8, "isPopular": false, "icon": "fa-cloud", "color": "bg-blue-100 text-blue-600"},
      {"category": "使用指南", "categorySlug": "guide", "slug": "guide", "updatedAt": "2025-08-31", "serviceCount": 5, "isPopular": false, "icon": "fa-book", "color": "bg-gray-100 text-gray-600"},
      {"category": "日常工具", "categorySlug": "day", "slug": "day", "updatedAt": "2025-08-31", "serviceCount": 6, "isPopular": false, "icon": "fa-wrench", "color": "bg-orange-100 text-orange-600"}
    ];

    // 服务数据（用于统计）
    const servicesData = [
      // 这里是服务数据，用于统计永久免费和开源项目数量
      {"id": "service-1", "title": "示例服务1", "categorySlug": "domain", "isFree": true, "isOpenSource": false},
      {"id": "service-2", "title": "示例服务2", "categorySlug": "ai", "isFree": true, "isOpenSource": true},
      {"id": "service-3", "title": "示例服务3", "categorySlug": "cdn", "isFree": false, "isOpenSource": false},
      {"id": "service-4", "title": "示例服务4", "categorySlug": "icons", "isFree": true, "isOpenSource": true},
      {"id": "service-5", "title": "示例服务5", "categorySlug": "database", "isFree": false, "isOpenSource": true}
    ];

    // 移动端菜单切换
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // 回到顶部按钮
    window.addEventListener('scroll', () => {
      // 显示/隐藏回到顶部按钮
      if (window.scrollY > 300) {
        backToTopBtn.classList.remove('opacity-0', 'invisible');
        backToTopBtn.classList.add('opacity-100', 'visible');
      } else {
        backToTopBtn.classList.add('opacity-0', 'invisible');
        backToTopBtn.classList.remove('opacity-100', 'visible');
      }

      // 导航栏滚动效果
      const header = document.querySelector('header');
      if (window.scrollY > 50) {
        header.classList.add('py-2');
        header.classList.remove('py-4');
      } else {
        header.classList.add('py-4');
        header.classList.remove('py-2');
      }
    });

    // 回到顶部功能
    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // 订阅功能实现
    subscribeBtn.addEventListener('click', () => {
      const email = emailInput.value.trim();
      
      // 简单的邮箱验证
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      
      if (!email) {
        showSubscriptionMessage('请输入您的邮箱地址', 'error');
        return;
      }
      
      if (!emailRegex.test(email)) {
        showSubscriptionMessage('请输入有效的邮箱地址', 'error');
        return;
      }
      
      // 模拟API调用
      showSubscriptionMessage('正在订阅中...', 'info');
      
      // 模拟异步请求
      setTimeout(() => {
        // 这里应该是实际的API调用
        // 成功后：
        showSubscriptionMessage('订阅成功！我们会定期发送最新资源信息。', 'success');
        emailInput.value = '';
        
        // 实际应用中，这里应该发送请求到后端
        console.log(`订阅邮箱: ${email}`);
      }, 1500);
    });

    // 显示订阅消息
    function showSubscriptionMessage(text, type) {
      subscriptionMessage.textContent = text;
      subscriptionMessage.classList.remove('hidden', 'text-danger', 'text-success', 'text-primary');
      
      switch(type) {
        case 'error':
          subscriptionMessage.classList.add('text-danger');
          break;
        case 'success':
          subscriptionMessage.classList.add('text-success');
          break;
        default:
          subscriptionMessage.classList.add('text-primary');
      }
      
      // 5秒后自动隐藏成功消息
      if (type === 'success') {
        setTimeout(() => {
          subscriptionMessage.classList.add('hidden');
        }, 5000);
      }
    }

    // 渲染分类卡片
    function renderCategories(categories) {
      categoriesContainer.innerHTML = '';
      
      if (categories.length === 0) {
        categoriesContainer.innerHTML = `
          <div class="col-span-full flex flex-col items-center justify-center py-16 text-center">
            <i class="fa fa-search text-4xl text-muted mb-3"></i>
            <p class="text-muted">未找到匹配的分类</p>
          </div>
        `;
        return;
      }
      
      categories.forEach(category => {
        const card = document.createElement('div');
        card.className = 'bg-white border border-gray-100 rounded-xl overflow-hidden card-hover';
        card.innerHTML = `
          <a href="${category.slug}.html" class="block h-full p-5">
            <div class="category-icon ${category.color}">
              <i class="fa ${category.icon}"></i>
            </div>
            <h3 class="font-semibold text-lg mb-1 group-hover:text-primary transition-colors">${category.category}</h3>
            <div class="flex items-center justify-between mb-3">
              <span class="text-sm text-muted">${category.serviceCount} 个资源</span>
              ${category.isPopular ? '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">热门</span>' : ''}
            </div>
            <p class="text-xs text-muted mb-4">最后更新: ${category.updatedAt}</p>
            <div class="mt-auto pt-3 border-t border-gray-100 flex items-center text-primary text-sm">
              <span>查看资源</span>
              <i class="fa fa-arrow-right ml-2 transition-transform group-hover:translate-x-1"></i>
            </div>
          </a>
        `;
        categoriesContainer.appendChild(card);
      });
    }

    // 筛选和排序分类
    function filterAndSortCategories() {
      const searchTerm = categorySearchInput.value.toLowerCase().trim();
      const sortOption = categorySortSelect.value;
      
      // 筛选
      let filtered = categoriesData.filter(category => 
        category.category.toLowerCase().includes(searchTerm)
      );
      
      // 排序
      switch(sortOption) {
        case 'name':
          filtered.sort((a, b) => a.category.localeCompare(b.category));
          break;
        case 'count-desc':
          filtered.sort((a, b) => b.serviceCount - a.serviceCount);
          break;
        case 'count-asc':
          filtered.sort((a, b) => a.serviceCount - b.serviceCount);
          break;
        case 'updated':
          filtered.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));
          break;
      }
      
      renderCategories(filtered);
    }

    // 计算统计数据
    function calculateStats() {
      // 分类总数
      totalCategoriesEl.textContent = categoriesData.length;
      
      // 资源总数
      const totalResources = categoriesData.reduce((sum, category) => sum + category.serviceCount, 0);
      totalResourcesEl.textContent = totalResources;
      
      // 永久免费和开源项目统计
      const permanentFree = servicesData.filter(service => service.isFree).length;
      const openSource = servicesData.filter(service => service.isOpenSource).length;
      
      permanentFreeEl.textContent = permanentFree;
      openSourceCountEl.textContent = openSource;
      
      // 最后更新时间（取最新的）
      const latestUpdate = new Date(Math.max(...categoriesData.map(c => new Date(c.updatedAt))));
      lastUpdatedEl.textContent = latestUpdate.toLocaleDateString();
    }

    // 初始化
    function init() {
      // 初始渲染所有分类
      renderCategories(categoriesData);
      
      // 计算统计数据
      calculateStats();
      
      // 绑定事件
      categorySearchInput.addEventListener('input', filterAndSortCategories);
      categorySortSelect.addEventListener('change', filterAndSortCategories);
    }

    // 启动
    init();
  </script>
</body>
</html>
